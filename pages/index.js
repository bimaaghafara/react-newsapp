import React from 'react';

// components
import Layout from '../components/layout';

// 3rd lib
import fetch from 'isomorphic-unfetch';
import {connect} from "react-redux";

class Home extends React.Component {
	static async getInitialProps({ req, store }) {
		store.dispatch({type: 'PAGE_TITLE', payload: 'Home'});
		// const res = await fetch('https://newsapi.org/v2/top-headlines?country=id&apiKey=767f8235faec4200a8d3c90ab9f6253b');
		// const data = await res.json();
		const dummyData = {"status":"ok","totalResults":38,"articles":[{"source":{"id":null,"name":"Republika.co.id"},"author":"Ichsan Emrald Alamsyah","title":"KPA: Penanganan ODHA di Bandung Lebih Baik dari Nasional - Republika Online","description":"KPA menyebut Kota Bandung mampu memberikan treatment coverage ke 40 persen ODHA","url":"https://www.republika.co.id/berita/nasional/daerah/19/06/24/ptm3rm349-kpa-penanganan-odha-di-bandung-lebih-baik-dari-nasional","urlToImage":"https://s.republika.co.id/uploads/images/inpicture_slide/seorang-perawat-tengah-memberikan-cairan-anti-retroviral-virus-arv-_121130210440-888.jpg","publishedAt":"2019-06-24T16:42:58Z","content":"KPA menyebut Kota Bandung mampu memberikan treatment coverage ke 40 persen ODHA\r\nREPUBLIKA.CO.ID, BANDUNG -- Upaya pencegahan serta penanggulangan HIV (Human Immunodeficiency Virus) dan AIDS  (Acquired Immune Deficiency Syndrome) di Kota Bandung saat ini suda… [+2928 chars]"},{"source":{"id":null,"name":"Tempo.co"},"author":"Tempo.co","title":"Sering Menyimpan atau Meremas Struk Belanja? Awas Risiko Kanker - Tempo.co","description":"Menyimpan struk belanja di dompet atau meremas setruk belanja tidak disarankan karena sebagian besar mengandung zat pemicu kanker.","url":"https://gaya.tempo.co/read/1217863/sering-menyimpan-atau-meremas-struk-belanja-awas-risiko-kanker?utm_source=Digital%20Marketing&utm_medium=Babe","urlToImage":"https://statik.tempo.co/data/2019/06/24/id_850845/850845_720.jpg","publishedAt":"2019-06-24T15:07:00Z","content":"TEMPO.CO, Jakarta - Ketika menerima struk dari minimarket, ATM, atau tempat parkir, sebagian orang langsung menyimpannya di dompet atau meremasnya lalu dibuang. Kedua tindakan itu tidak disarankan karena sebagian besar struk belanja mengandung karsinogenik at… [+3101 chars]"},{"source":{"id":null,"name":"Sindonews.com"},"author":"Victor Maulana","title":"Iran Benarkan Adanya Serangan Siber dari AS - SINDOnews","description":"Menteri Teknologi Informasi dan Komunikasi Iran, Mohammad Javad Azari Jahromi membenarkan adanya serangan siber yang dilakukan...","url":"https://international.sindonews.com/read/1414340/43/iran-benarkan-adanya-serangan-siber-dari-as-1561379671","urlToImage":"https://cdn.sindonews.net/dyn/620/content/2019/06/24/43/1414340/iran-benarkan-adanya-serangan-siber-dari-as-4ZZ.jpg","publishedAt":"2019-06-24T14:33:00Z","content":"TEHERAN - Menteri Teknologi Informasi dan Komunikasi Iran, Mohammad Javad Azari Jahromi membenarkan adanya serangan siber yang dilakukan oleh Amerika Serikat (AS) terhadap Teheran. Namun, Jahromi menyebut tidak ada satupun serangan itu yang berhasil.Jahromi m… [+1258 chars]"},{"source":{"id":null,"name":"Tabloidpulsa.co.id"},"author":null,"title":"Xiaomi Hentikan Produksi Mi Max dan Mi Note, Ada Apa? - Tabloid Pulsa","description":"Xiaomi Hentikan Produksi Mi Max dan Mi Note - www.tabloidpulsa.co.id","url":"https://www.tabloidpulsa.co.id/news/38573-xiaomi-hentikan-produksi-mi-max-dan-mi-note","urlToImage":"https://www.tabloidpulsa.co.id/images/data/2019/juni/Xiaomi_mi_max_2.jpg","publishedAt":"2019-06-24T14:18:00Z","content":"Nariswari Senin, 24 Juni 2019 • 21:18\r\nMi Max 2Sebuah kabar mengejutkan datang dari Xiaomi beberapa hari yang lalu. Seperti dialporkan GSMArena, CEO Xiaomi, Lei Jun memposting sebuah pengumuman di Weibo pada (21/6)  untuk menjelaskan berbagai strategi lini pr… [+1219 chars]"},{"source":{"id":null,"name":"Kompas.com"},"author":"Kurnia Sari Aziza","title":"Perwakilan Massa: Dulu Anies Kampanye Tolak Reklamasi, Ternyata Janji Palsu... - KOMPAS.com","description":"Khalil menyebut dahulu dirinya beserta para nelayan sempat mempercayai Anies yang berjanji menghentikan reklamasi.","url":"https://megapolitan.kompas.com/read/2019/06/24/21090111/perwakilan-massa-dulu-anies-kampanye-tolak-reklamasi-ternyata-janji-palsu","urlToImage":"https://asset.kompas.com/crop/129x0:1209x720/780x390/filters:watermark(data/photo/2018/01/24/3095122789.png,0,-0,1)/data/photo/2019/06/24/3214258170.jpg","publishedAt":"2019-06-24T14:09:00Z","content":"JAKARTA, KOMPAS.com - Perwakilan Komunitas Nelayan Tradisional Indonesia (KNTI) Khalil menangis saat menyuarakan keluhan nelayan Teluk Jakarta pasca keputusan Gubernur DKI Jakarta Anies Baswedan menerbitkan Izin Mendirikan Bangunan ( IMB) di pulau reklamasi.\r… [+1837 chars]"},{"source":{"id":null,"name":"Kompas.com"},"author":"Ardi Priyatno Utomo","title":"Keok Dua Kali di Istanbul, Pesona dan Pengaruh Erdogan Memudar? - Kompas.com - KOMPAS.com","description":"Pernyataan Erdogan soal pemilu ulang dianggap sebagai blunder yang memperbesar selisih kemenangan kandidat oposisi. Halaman all","url":"https://internasional.kompas.com/read/2019/06/24/21031871/keok-dua-kali-di-istanbul-pesona-dan-pengaruh-erdogan-memudar?page=all","urlToImage":"https://asset.kompas.com/crop/0x0:876x584/780x390/filters:watermark(data/photo/2018/01/24/3095122789.png,0,-0,1)/data/photo/2018/12/13/518864124.jpg","publishedAt":"2019-06-24T14:03:00Z","content":"ISTANBUL, KOMPAS.com – Dua kali. Itulah kekalahan menyakitkan yang harus diterima Presiden Recep Tayyip Erdogan di Istanbul, kota yang melesatkan namanya di kancah politik Turki.\r\nBinali Yildirim, calon dari partai yang dipimpinnya, Partai Keadilan dan Pemban… [+4580 chars]"},{"source":{"id":null,"name":"Detik.com"},"author":"Achmad Dwi Afriyadi, Vadia Lidyana","title":"Heboh Supermarket Giant akan Tutup 6 Toko - detikFinance","description":"Berita terpopuler detikFinance sepanjang Senin (24/6/2019) didominasi seputar supermarket Giant akan tutup 6 gerainya dan tebar diskon.","url":"https://finance.detik.com/berita-ekonomi-bisnis/d-4598505/heboh-supermarket-giant-akan-tutup-6-toko","urlToImage":"https://awsimages.detik.net.id/api/wm/2019/06/23/f5ebfd50-eb72-4ff0-843c-6bd8a49be689_169.jpeg?wid=54&w=650&v=1","publishedAt":"2019-06-24T13:35:56Z","content":null},{"source":{"id":null,"name":"Liputan6.com"},"author":"Siti Khotimah","title":"Dua Planet yang Sangat Mirip Bumi Ini Dianggap Rumah Alien - Liputan6.com","description":"Peneliti menemukan dua planet mirip Bumi yang mengorbit sebuah bintang bernama Teegarden.","url":"https://www.liputan6.com/global/read/3996920/dua-planet-yang-sangat-mirip-bumi-ini-dianggap-rumah-alien","urlToImage":"https://cdn0-production-images-kly.akamaized.net/tnPCAb-HgjEaMDNOAqCXYjqHmLs=/673x379/smart/filters:quality(75):strip_icc():format(jpeg)/kly-media-production/medias/2780026/original/022332200_1555395517-20190416-Kepler186f_2.jpg","publishedAt":"2019-06-24T13:10:01Z","content":"Liputan6.com, Jakarta - Sebuah tim peneliti menemukan dua planet mirip Bumi. Keduanya berada di zona sempurna yang memungkinkan keberadaan air. Mereka-pun beranggapan bisa jadi terdapat makhluk atau alien, di kedua dunia yang baru ditemukan tersebut.\r\nKedua p… [+931 chars]"},{"source":{"id":null,"name":"Detik.com"},"author":"Tim detikcom","title":"Selain Sanca Kembang yang Tewaskan Jana, Ular Ini Juga Dilarang Dipelihara - detikNews","description":"Selain sanca kembang yang menewaskan Jana, ular-ular berikut ini dilarang dipelihara.","url":"https://news.detik.com/berita/d-4598446/selain-sanca-kembang-yang-tewaskan-jana-ular-ini-juga-dilarang-dipelihara","urlToImage":"https://awsimages.detik.net.id/api/wm/2019/06/23/a49c45b3-f907-497a-9e7d-f32f292547ec_169.jpeg?wid=54&w=650&v=1","publishedAt":"2019-06-24T13:02:00Z","content":"Jakarta -\r\nUlar piton sanca kembang atau Python reticulatus yang melilit warga Kecamatan Kutawaringin, Kabupaten Bandung, Jana (42), hingga tewas merupakan hewan liar yang dilarang dipelihara. Selain sanca kembang, jenis ular apa saja yang dilarang dipelihara… [+2777 chars]"},{"source":{"id":null,"name":"Kompas.com"},"author":"Khairina","title":"Fakta Pabrik Korek Api yang Terbakar, Pekerja Digaji Rp 500 Ribu per Bulan hingga Pekerjakan Anak - Kompas.com - KOMPAS.com","description":"Selain tidak mengantongi izin usaha, industri rumahan perakitan korek gas itu juga mengabaikan keselamatan dan kesejahteraan karyawannya.","url":"https://regional.kompas.com/read/2019/06/24/19522321/fakta-pabrik-korek-api-yang-terbakar-pekerja-digaji-rp-500-ribu-per-bulan","urlToImage":"https://asset.kompas.com/crop/0x46:1032x734/780x390/filters:watermark(data/photo/2018/01/24/3095122789.png,0,-0,1)/data/photo/2019/06/24/603736098.jpg","publishedAt":"2019-06-24T12:52:00Z","content":"MEDAN, KOMPAS.com -Selain digaji rendah, pekerja pabrik korek api gas di Jalan Tengku Amir Hamzah, Dusun IV, Desa Sambirejo, Kecamatan Binjai, Langkat Sumatera Utara yang terbakar Jumat (21/6/2019) yang lalu itu juga mengabaikan keselamatan pekerjanya.\r\nSelai… [+2971 chars]"},{"source":{"id":null,"name":"Merdeka.com"},"author":null,"title":"AirAsia Buka 5 Rute Penerbangan Domestik Baru | merdeka.com - merdeka.com","description":"Kelima rute pulang pergi tersebut adalah Jakarta-Lombok (frekuensi 11 kali seminggu), Bali-Lombok (7 kali seminggu), Yogyakarta Kulon Progo-Lombok (3 kali seminggu), Bali-Labuan Bajo (7 kali seminggu) serta Surabaya-Kertajati (3 kali seminggu).","url":"https://www.merdeka.com/uang/airasia-luncurkan-5-rute-domestik-baru.html","urlToImage":"https://cdns.klimg.com/merdeka.com/i/w/news/2019/06/24/1088599/540x270/airasia-luncurkan-5-rute-domestik-baru.jpg","publishedAt":"2019-06-24T12:48:00Z","content":"Merdeka.com - AirAsia terus menegaskan komitmennya menghadirkan layanan penerbangan berkualitas yang terjangkau masyarakat dengan meluncurkan lima rute domestik terbaru hari ini. Ekspansi jaringan penerbangan AirAsia di Tanah Air merupakan bagian dari komitme… [+2217 chars]"},{"source":{"id":null,"name":"Ayobandung.com"},"author":"Ayo Media Network","title":"Sempat Dilarikan ke RS, Robert Alberts Sebut Cedera Bahu Ezechiel Tak Parah - ayobandung.com","description":"Striker andalan Persib Bandung, Ezechiel NDouassel absen dalam sesi latihan tim pada Senin (24/6/2019). Diketahui, ketidakhadiran Ezechiel lantaran dirinya mengalami cedera bahu setelah berbenturan dengan pemain …","url":"https://www.ayobandung.com/read/2019/06/24/55977/sempat-dilarikan-ke-rs-robert-alberts-sebut-cedera-bahu-ezechiel-tak-parah","urlToImage":"https://www.ayobandung.com/images-bandung/post/articles/2019/06/24/55977/alberts.jpg","publishedAt":"2019-06-24T12:44:43Z","content":"Pelatih Persib, Robert Alberts. (Eneng Reni Nuraisyah Jamil/Ayobandung.com)\r\nCOBLONG, AYOBANDUNG.COM--Striker andalan Persib Bandung, Ezechiel NDouassel absen dalam sesi latihan tim pada Senin (24/6/2019). Diketahui, ketidakhadiran Ezechiel lantaran dirinya m… [+1161 chars]"},{"source":{"id":null,"name":"Detik.com"},"author":"Samsudhuha Wildansyah","title":"Eggi Sudjana Dibawa ke Ruang Penyidik Jelang Penangguhan Penahanan - detikNews","description":"Eggi dikabarkan segera dibebaskan dari tahanan setelah permohonan penangguhan penahanannya dikabulkan polisi.","url":"https://news.detik.com/berita/d-4598431/eggi-sudjana-dibawa-ke-ruang-penyidik-jelang-penangguhan-penahanan","urlToImage":"https://awsimages.detik.net.id/api/wm/2019/06/14/5ea1e576-a82d-456a-aa1c-d018394cffeb_169.jpeg?wid=54&w=650&v=1","publishedAt":"2019-06-24T12:41:00Z","content":"Jakarta -\r\nPihak pengacara mengklaim Eggi Sudjana mendapatkan penangguhan penahanan. Menjelang penangguhan penahanan itu, Eggi dibawa ke ruang penyidik Direktorat Reskrimum Polda Metro Jaya.Pantauan detikcom, Senin (24/6/2019), Eggi keluar dari Rutan Polda Me… [+2547 chars]"},{"source":{"id":null,"name":"Kompas.com"},"author":"Yohanes Enggar Harususilo","title":"PPDB DKI Gabungkan Zonasi dan Nilai UN, Begini Kata Orangtua Siswa - Kompas.com - Edukasi Kompas.com","description":"PPDB 2019 jenjang SMA di DKI Jakarta memadukan sistem zonasi dan nilai ujian nasional (UN) SMP calon siswa agar bisa diterima di sekolah tujuan.","url":"https://edukasi.kompas.com/read/2019/06/24/19370241/ppdb-dki-gabungkan-zonasi-dan-nilai-un-begini-kata-orangtua-siswa","urlToImage":"https://asset.kompas.com/crop/87x130:1190x865/780x390/filters:watermark(data/photo/2018/01/24/3095122789.png,0,-0,1)/data/photo/2019/06/24/2356632324.jpeg","publishedAt":"2019-06-24T12:39:45Z","content":"KOMPAS.com – Pelaksanaan Penerimaan Peserta Didik Baru ( PPDB) 2019 jenjang SMA di Provinsi DKI Jakarta memadukan sistem zonasi dan perolehan nilai ujian nasional ( UN) jenjang SMP calon siswa agar bisa diterima di sekolah tujuan.\r\nHal ini sesuai keterangan t… [+3264 chars]"},{"source":{"id":null,"name":"Tribunnews.com"},"author":"Sri Juliati","title":"PA 212 Akan Gelar Aksi di MK, Sodik Sebut Tak Terkait BPN, Ini Penjelasan Istana dan Sikap MK - Tribunnews","description":"PA 212 dan sejumlah organisasi lain akan gelar aksi unjuk rasa saat sidang putusan di MK. Ini respons BPN, Istana, hingga pihak MK.","url":"http://www.tribunnews.com/pilpres-2019/2019/06/24/pa-212-akan-gelar-aksi-di-mk-sodik-sebut-tak-terkait-bpn-ini-penjelasan-istana-dan-sikap-mk","urlToImage":"http://cdn2.tstatic.net/tribunnews/foto/bank/images/pencocokan-bukti-dari-kpu_20190620_171320.jpg","publishedAt":"2019-06-24T12:39:27Z","content":"PA 212 dan sejumlah organisasi lain akan gelar aksi unjuk rasa saat sidang putusan di MK. Ini respons BPN, Istana, hingga pihak MK.\r\nTRIBUNNEWS.COM - Sejumlah organisasi akan menggelar unjuk rasa mengawal putusan sengketa Pilpres di Mahkamah Konstitusi (MK) p… [+1120 chars]"},{"source":{"id":null,"name":"Tribunnews.com"},"author":"Murtopo","title":"Pelatih Persebaya Djadjang Nurdjaman Dibuat Kaget oleh Ulah Bonek di Stadion Segiri Samarinda - Warta Kota","description":"Pelatih Persebaya Djadjang Nurdjaman mengaku kaget saat Persebaya Surabaya bertandang ke kandang Borneo FC di Stadion Segiri Samarinda, Minggu (23/6)","url":"https://wartakota.tribunnews.com/2019/06/24/pelatih-persebaya-djadjang-nurdjaman-dibuat-kaget-oleh-ulah-bonek-di-stadion-segiri-samarinda","urlToImage":"https://cdn2.tstatic.net/wartakota/foto/bank/images/pelatih-persebaya-djadjang-nurdjaman-saat-memasuki-stadion-gelora-bung-tomo.jpg","publishedAt":"2019-06-24T12:21:42Z","content":"Pelatih Persebaya Djadjang Nurdjaman mengaku kaget saat Persebaya Surabaya bertandang ke kandang Borneo FC di Stadion Segiri Samarinda, Minggu (23/6/2019).\r\nBukan hanya karena timnya meraih kemenangan perdana di Liga 1 2019, tapi juga karena dukungan dari Bon… [+1255 chars]"},{"source":{"id":null,"name":"Kompas.com"},"author":"Resa Eka Ayu Sartika","title":"Sudah Masuk Musim Kemarau, Kok Sebagian Wilayah Masih Hujan? - Kompas.com - KOMPAS.com","description":"Apa sebabnya?","url":"https://sains.kompas.com/read/2019/06/24/190100923/sudah-masuk-musim-kemarau-kok-sebagian-wilayah-masih-hujan-","urlToImage":"https://asset.kompas.com/crop/0x0:1000x667/780x390/filters:watermark(data/photo/2018/01/24/37295301531.png,0,-0,1)/data/photo/2018/01/18/1643791338.jpg","publishedAt":"2019-06-24T12:02:00Z","content":"KOMPAS.com - Pada bulan Juni, biasanya Indonesia mulai memasuki musim kemarau. Meski begitu, pada Juni tahun ini, masih ada sejumlah wilayah yang dilanda hujan.\r\nBahkan, menurut prakiraan cuaca BMKG, beberapa wilayah akan mengalami hujan ringan. Fenomena huja… [+1501 chars]"},{"source":{"id":null,"name":"Detik.com"},"author":"Muhamad Imron Rosyadi","title":"Apa Bill Gates Juga Menyesal Pernah Selamatkan Apple? - detikInet","description":"Bill Gates turut menyebut Apple saat mengungkap penyesalan soal Android. Apa ia juga menyesal pernah menyelamatkan Apple, kreator iPhone, yang lalu jadi rival?","url":"https://inet.detik.com/cyberlife/d-4598375/apa-bill-gates-juga-menyesal-pernah-selamatkan-apple","urlToImage":"https://awsimages.detik.net.id/api/wm/2017/09/23/4173eb1b-fab5-44a0-81ae-83c524f65aab_169.jpg?wid=54&w=650&v=1","publishedAt":"2019-06-24T12:01:00Z","content":"Jakarta - Baru-baru ini, Bill Gates mengatakan bahwa salah satu penyesalan terbesarnya adalah tak dapat menghentikan laju Android di industri ponsel, walau ia tidak benar-benar melakukan kesalahan karena itu. Menariknya, ia sejatinya sempat melakukan keputusa… [+2354 chars]"},{"source":{"id":null,"name":"Idntimes.com"},"author":"Arif Gunawan","title":"Layar Infinity-O dan 4 Fitur Terbaik Lain dari Samsung Galaxy M40 - IDN Times","description":"Keluarga baru dari lini Galaxy M yang memukau!","url":"https://www.idntimes.com/tech/gadget/arif-gunawan/fitur-terbaik-samsung-galaxy-m40-exp-c1c2","urlToImage":"https://cdn.idntimes.com/content-images/community/2019/06/ehth-dec75e29f4465e626c4e2106e96de070_wm_600x315.jpg","publishedAt":"2019-06-24T11:35:00Z","content":null},{"source":{"id":null,"name":"Liputan6.com"},"author":"Afra Augesti","title":"Mereka yang Berperan Krusial pada Misi Pendaratan Manusia Pertama di Bulan - Liputan6.com","description":"Berikut kisah orang-orang yang membantu mewujudkan misi pendaratan manusia pertama di Bulan.","url":"https://www.liputan6.com/global/read/3996959/mereka-yang-berperan-krusial-pada-misi-pendaratan-manusia-pertama-di-bulan","urlToImage":"https://cdn1-production-images-kly.akamaized.net/AlDLQh1d9MdczGTjjw9K6Cf5WeY=/673x379/smart/filters:quality(75):strip_icc():format(jpeg)/kly-media-production/medias/1578754/original/015026200_1493294790-2__480px-Apollo_15_flag__rover__LM__Irwin__Wikimedia__Astronaut_David_R._Scott__Apollo_15_commander..jpg","publishedAt":"2019-06-24T11:35:00Z","content":"Sebelum tiga orang awak pertama Apollo 7 meluncur ke antariksa pada Oktober 1968, delapan astronot Apollo telah kehilangan nyawa mereka.\r\nOrang pertama meninggal pada tahun 1964, ia adalah Theodore Freeman, saat pesawatnya - jet pelatihan T-38 - ditabrak oleh… [+2028 chars]"}]};
		store.dispatch({type: 'ARTICLES', payload: dummyData.articles});
		return {
			// articles: data.articles
			// _articles: dummyData.articles
		};
	}

	constructor(props) {
		super(props);
		this.state = {
		};
	}

	render() {
		return (
			<Layout>
				{this.props.articles.map(article =>
					<div className="col-sm-6 col-md-4 col-lg-3" style={{padding: '10px'}}>
						<div className="well" style={{minHeight: '320px'}}>
							<div style={{backgroundImage: `url('${article.urlToImage}')`, backgroundSize: 'cover', height: '150px', width:'100%', backgroundColor: 'darkgrey'}}></div>
							<div className="well-sm">{article.title}</div>
							<div className="text-right" style={{paddingTop: '16px'}}>{article.publishedAt.split('T')[0]}</div>
						</div>
					</div>
				)}
			</Layout>
		);
	}
}

export default connect(state => state)(Home);